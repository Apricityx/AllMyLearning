子网划分的规则是在  **一个给定的 IP 地址段中** ，通过修改  **子网掩码** （Subnet Mask）将原始网络划分为多个更小的网络（子网）。其核心目标是**高效利用IP地址空间**并支持网络逻辑分区。

下面我来系统地说明子网划分的完整规则：

---

## 🧩 一、基本概念

| 项目     | 含义                                                                 |
| -------- | -------------------------------------------------------------------- |
| IP地址   | IPv4常用，32位，形如 `192.168.1.0`                                 |
| 子网掩码 | 用于划分“网络部分”和“主机部分”，例如 `/24`或 `255.255.255.0` |
| 子网     | 一个被划分出的更小网络，有自己的网络地址、广播地址、主机地址范围     |

---

## 📏 二、子网划分核心规则

### ✅ 规则 1：子网掩码必须是连续的“1”

* 例如合法掩码有：/24（255.255.255.0）、/26（255.255.255.192）等
* 非法掩码如：`255.0.255.0` ❌（不连续）

---

### ✅ 规则 2：每个子网的地址总数是 2n2^n，其中 n 是主机位数

* `/24` → 主机位 8 → 28=2562^8 = 256 个地址
* `/26` → 主机位 6 → 26=642^6 = 64

---

### ✅ 规则 3：每个子网的地址分配是**固定块起始**

* 一个子网从 0 开始，然后按块跳：
  * `/26`：每块 64 个地址，网段从 .0、.64、.128、.192 开始
  * `/27`：每块 32 个地址，网段从 .0、.32、.64、... 开始
  * 不允许 `192.168.1.20/27` 这种**非对齐的地址段**

---

### ✅ 规则 4：每个子网中：

| 类型         | 数量         | 说明                       |
| ------------ | ------------ | -------------------------- |
| 网络地址     | 1            | 第一个地址，标识整个子网   |
| 广播地址     | 1            | 最后一个地址，用于子网广播 |
| 可用主机地址 | `总数 - 2` | 中间的地址，可分配给主机   |

---

## 🧮 三、常用子网掩码与地址数对照表

| 子网掩码 | 主机位数 | 地址总数 | 可用主机数 | 网络起始地址间距 |
| -------- | -------- | -------- | ---------- | ---------------- |
| /30      | 2        | 4        | 2          | 每 4 个地址      |
| /29      | 3        | 8        | 6          | 每 8 个地址      |
| /28      | 4        | 16       | 14         | 每 16 个地址     |
| /27      | 5        | 32       | 30         | 每 32 个地址     |
| /26      | 6        | 64       | 62         | 每 64 个地址     |
| /25      | 7        | 128      | 126        | 每 128 个地址    |
| /24      | 8        | 256      | 254        | 每 256 个地址    |

---

## 🔒 四、子网划分注意事项

1. **每个子网不能重叠** （地址段不能重复）
2. 子网段应 **从小块往大块分配** （大主机数的先分）
3. 所有子网应在一个大网段（如 `192.168.1.0/24`）中完成划分
4. 如果使用 **CIDR** （无类编址），必须正确计算每个子网的实际需求

---

## 📘 五、实际应用示例

### 目标：将 `192.168.1.0/24` 划分为 4 个子网

| 子网编号 | 子网掩码 | 地址范围              | 可用主机 |
| -------- | -------- | --------------------- | -------- |
| Subnet A | /26      | 192.168.1.0 – .63    | 62       |
| Subnet B | /26      | 192.168.1.64 – .127  | 62       |
| Subnet C | /26      | 192.168.1.128 – .191 | 62       |
| Subnet D | /26      | 192.168.1.192 – .255 | 62       |

---

如你需要我为具体地址段生成多个合法子网，我也可以提供自动划分工具或图解说明。是否需要？
