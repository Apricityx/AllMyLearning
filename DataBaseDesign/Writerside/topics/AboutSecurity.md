# 数据安全

数据的安全性在软件开发领域是一个永恒的命题，也是一个永恒的挑战。在这个领域，我们需要考虑的问题有很多，比如数据的加密、数据的传输安全、数据的存储安全、数据的备份与恢复、数据的权限控制等等。

## 数据库设计

数据库表间达到三范式，避免数据冗余，保证了数据的一致性和完整性。
数据表间通过外键进行约束，确保了数据的一致性。
在应用层插入数据时，对数据进行校验，避免恶意数据的插入，同时再次保证数据的一致性。

## 数据的传输加密

在用户登录过程中，对数据进行了严格的加密，保证数据传输过程中的安全性。

### 加密过程：

#### 登录过程中：

根据只知道公钥的情况下，无法对用公钥加密的数据进行解密为前提，设计数据传输过程如下：
用户输入用户名和密码，在前端根据公钥对密码进行RSA加密，然后转为Base64发送给服务器。
服务器端使用私钥对密码进行解密，然后进行数据库查询，验证用户身份。若验证成功，则根据帐号密码与时间生成一个AccessToken，返回给用户。
用户请求完成后，将获取的AccessToken保存在Cookies中
下次用户再次访问网站时，会自动携带Cookies中的AccessToken，服务器端会验证AccessToken的有效性，以此来验证用户身份。
若用户主动退出登录，则删除Cookies中的AccessToken。
此后的访问中，若用户未携带AccessToken，则会被重定向到登录页面。

#### 拉取个人信息过程中

当用户在拉取个人信息时，需要携带AccessToken，若AccessToken无效，则不会返回信息，避免了数据的非法访问
